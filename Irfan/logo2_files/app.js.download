(function(t){function e(e){for(var s,n,u=e[0],i=e[1],l=e[2],d=0,m=[];d<u.length;d++)n=u[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&m.push(a[n][0]),a[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);c&&c(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],s=!0,u=1;u<r.length;u++){var i=r[u];0!==a[i]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},a={app:0},o=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var c=i;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"3a3c":function(t,e,r){"use strict";var s=r("80b8"),a=r.n(s);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e6cf"),r("cca6"),r("a79d");var s=r("a026"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"top-bar-right"},[t.hideMyLogosHeader?t._e():r("ul",{staticClass:"menu align-middle"},[t.isUserAuthenticated&&t.userSummary.IsEligibleForUpgrade?r("li",{staticClass:"show-for-medium"},[r("a",{staticClass:"button tiny success mbn",attrs:{href:t.upgradeAccountPath}},[t._v("Upgrade Account")])]):t._e(),r("li",[t.isUserAuthenticated?t._e():r("a",{attrs:{href:t.logoRootPath,"data-js-login":"","data-register-redirect":t.logoRootPath,"data-js-login-title":"View your logos","data-js-login-subtitle":"Enter your email address to view your logos","data-js-login-source":t.myLogosHeaderLink}},[r("span",{staticClass:"mrs",attrs:{"data-test-my-logos-nav":""}},[t._v("My Account")])]),t.isUserAuthenticated?r("ul",{staticClass:"menu simple dropdown mrs u-inline-block",attrs:{"data-dropdown-menu":""}},[r("li",{staticClass:"is-dropdown-submenu-parent"},[r("a",[r("span",{staticClass:"mrs",attrs:{"data-test-my-logos-nav":""}},[t._v("My Account")]),t.globalCounter>0?r("span",{staticClass:"badge alert"},[t._v(t._s(t.globalCounter))]):t._e()]),r("ul",{staticClass:"menu simple is-dropdown-submenu"},[r("li",[r("ol",{staticClass:"menu"},[t.userSummary.PurchasedLogoCount>0?r("li",[r("a",{attrs:{href:t.logoRootPath,"data-test-purchased-logos":""}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.starFilled,alt:"Purchased Logos"}}),t._v(" Purchased Logos ("+t._s(t.userSummary.PurchasedLogoCount)+") ")])]):t._e(),t.userSummary.DesignsCount>0?r("li",[r("a",{attrs:{href:t.designsPath,"data-test-designs":""}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.edit,alt:"Other Designs"}}),t._v(" Other Designs ("+t._s(t.userSummary.DesignsCount)+") ")])]):t._e(),1===t.userSummary.PurchasedLogoCount&&t.userSummary.HasDcOwnedLogos?r("li",[r("a",{attrs:{href:t.logoTemplatesPath,"data-test-create-designs":""}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.palette,alt:"Other Designs"}}),t._v(" Create Social Media Designs ("+t._s(t.userSummary.DesignsCount)+") ")])]):t._e(),t.userSummary.ShortlistLogoCount>0||t.userSummary.DraftLogoCount>0?r("li",[r("a",{attrs:{href:t.savedLogosPath}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.watchlist,alt:"Saved Logos"}}),t._v(" Saved Logos ("+t._s(t.userSummary.ShortlistLogoCount+t.userSummary.DraftLogoCount)+") ")])]):t._e(),t.userSummary.PurchasedLogoCount>0?r("li",[r("a",{attrs:{href:t.printPath}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.print,alt:"Printing"}}),t._v(" Printing "),t.userSummary.PrintingCount>0?r("span",[t._v("("+t._s(t.userSummary.PrintingCount)+")")]):t._e()])]):t._e(),t.userSummary.SubscriptionsCount>0?r("li",[r("a",{attrs:{href:t.mySubscriptionsPath,"data-test-subscriptions":""}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.payment,alt:"Manage Subscription"}}),t._v(" Manage Subscription ("+t._s(t.userSummary.SubscriptionsCount)+") ")])]):t._e(),t.userSummary.DraftLogoCount>2?r("li",[r("a",{attrs:{href:t.pollUrl,"data-test-subscriptions":""}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.poll,alt:t.pollText}}),t._v(" "+t._s(t.pollText)+" ")])]):t._e(),t.userSummary.PurchasedBusinessCardCount+t.userSummary.PurchasedLogoCount>0&&t.userSummary.StoredCreditCardCount>0?r("li",[r("a",{attrs:{href:t.creditCardsPath}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.payment,alt:"Stored Cards"}}),t._v(" Stored Cards ("+t._s(t.userSummary.StoredCreditCardCount)+") ")])]):t._e(),t.isUserAuthenticated&&t.userSummary.IsEligibleForUpgrade?r("li",[r("a",{staticClass:"highlighted",attrs:{href:t.upgradeAccountPath}},[r("img",{staticClass:"mrs",attrs:{src:t.iconPaths.upgrade,alt:"Upgrade Account"}}),t._v(" Upgrade Account ")])]):t._e(),t._m(0),r("li",[r("a",{attrs:{href:t.logoutPath}},[t._v("Sign Out")])])])])])])]):t._e()])])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("hr",{staticClass:"mvs"})])}],n=r("bc3a"),u=r.n(n);const i=async(t,e)=>{const r=t?"&resetcache=true":"";if(!e)return{};const s=await u.a.get("/maker/api/user/summary?usertoken=".concat(e).concat(r));return s.data},l=async t=>{if(!t)return{};const e=await u.a.get("/maker/api/user/shortlist-count?usertoken=".concat(t));return e.data};var c={props:{hideMyLogosHeader:{type:Boolean,required:!0},isUserAuthenticated:{type:Boolean,required:!0},userToken:{type:String,default:null},logoRootPath:{type:String,required:!0},designsPath:{type:String,required:!0},logoTemplatesPath:{type:String,required:!0},shortlistPath:{type:String,required:!0},draftsPath:{type:String,required:!0},printPath:{type:String,required:!0},mySubscriptionsPath:{type:String,required:!0},creditCardsPath:{type:String,required:!0},upgradeAccountPath:{type:String,required:!0},newPollsPath:{type:String,default:null},myPollsPath:{type:String,default:null},logoutPath:{type:String,required:!0},myLogosHeaderLink:{type:String,required:!0},iconPaths:{type:Object,required:!0}},data:()=>({userSummary:{}}),computed:{savedLogosPath(){return 0===this.userSummary.DraftLogoCount?this.shortlistPath:this.draftsPath},pollUrl(){return 0===this.userSummary.PollCount?this.newPollsPath:this.myPollsPath},pollText(){return 0===this.userSummary.PollCount?"Create a poll":"Manage polls (".concat(this.userSummary.PollCount,")")},globalCounter(){return this.userSummary.PurchasedLogoCount+this.userSummary.ShortlistLogoCount+this.userSummary.DraftLogoCount+this.userSummary.PurchasedBusinessCardCount+this.userSummary.SubscriptionsCount+this.userSummary.DesignsCount+this.userSummary.PrintingCount+this.userSummary.PollCount+this.userSummary.StoredCreditCardCount||0}},beforeMount(){this.onCounterUpdate()},mounted(){window&&window.addEventListener("UpdateShortlistCount",this.onShortListCountUpdate)},beforeDestroy(){window.removeEventListener("UpdateShortlistCount",this.onShortListCountUpdate)},methods:{async onCounterUpdate(t){!0===this.isUserAuthenticated&&(this.userSummary=await i(t,this.userToken))},async onShortListCountUpdate(){this.userSummary.ShortlistLogoCount=await l(this.userToken)}}},d=c,m=(r("3a3c"),r("2877")),h=Object(m["a"])(d,a,o,!1,null,null,null),g=h.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return!t.hideMyLogosHeader&&t.isUserAuthenticated&&t.userSummary.IsEligibleForUpgrade?r("div",{staticClass:"navigation-top__sub-menu show-for-small-only pas"},[r("a",{staticClass:"button success tiny expanded mbn",attrs:{href:t.upgradeAccountPath}},[t._v("Upgrade Account")])]):t._e()},y=[],S={props:{hideMyLogosHeader:{type:Boolean,required:!0},isUserAuthenticated:{type:Boolean,required:!0},userToken:{type:String,default:null},upgradeAccountPath:{type:String,required:!0}},data:()=>({userSummary:{}}),beforeMount(){this.onCounterUpdate()},methods:{async onCounterUpdate(t){!0===this.isUserAuthenticated&&(this.userSummary=await i(t,this.userToken))}}},C=S,f=Object(m["a"])(C,p,y,!1,null,null,null),P=f.exports;null!=document.getElementById("my-account-nav-container")&&new s["a"]({el:"#my-account-nav-container",components:{MyAccountNav:g}}),null!=document.getElementById("upgrade-my-account-nav-container")&&new s["a"]({el:"#upgrade-my-account-container",components:{UpgradeMyAccount:P}})},"80b8":function(t,e,r){}});
//# sourceMappingURL=app.js.map